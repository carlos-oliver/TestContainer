_rabbitMqContainer = new RabbitMqBuilder()
    .WithImage("rabbitmq:3.12-management")
    .WithPortBinding(5672, true)
    .WithPortBinding(15672, true)
    .WithUsername("guest")
    .WithPassword("guest")
    .WithCreateContainerParametersModifier(parameters =>
    {
        parameters.Healthcheck = new HealthCheck
        {
            Test = new[] { "CMD-SHELL", "rabbitmq-diagnostics -q ping" },
            Interval = TimeSpan.FromSeconds(2),
            Timeout = TimeSpan.FromSeconds(2),
            Retries = 5,
            StartPeriod = TimeSpan.FromSeconds(5)
        };
    })
    .Build();
